{"level":"error","message":"Unhandled error Invalid webhook signature","method":"POST","path":"/api/payments/webhook","status":401,"timestamp":"2025-12-19T14:16:21.474Z"}
{"level":"error","message":"Unhandled error Only PENDING orders can be paid","method":"POST","path":"/api/payments/intents","status":409,"timestamp":"2025-12-23T11:30:14.808Z"}
{"level":"error","message":"Unhandled error Forbidden","method":"GET","path":"/api/orders/my?page=1&limit=20","status":403,"timestamp":"2025-12-23T11:40:13.794Z"}
{"level":"error","message":"Unhandled error Only PENDING orders can be cancelled","method":"PATCH","path":"/api/orders/4f05deb1-47cf-4174-8d6c-aa8cba8824b3/cancel","status":409,"timestamp":"2025-12-23T11:59:02.021Z"}
{"level":"error","message":"Unhandled error Missing or invalid Idempotency-Key header","method":"POST","path":"/api/orders","status":400,"timestamp":"2025-12-23T12:00:21.751Z"}
{"level":"error","message":"Unhandled error Only PENDING orders can be cancelled","method":"PATCH","path":"/api/orders/a726d951-e84f-46b0-bb60-c7a891962af3/cancel","status":409,"timestamp":"2025-12-23T12:12:09.024Z"}
{"level":"error","message":"Unhandled error Invalid webhook signature","method":"POST","path":"/api/payments/webhook","status":401,"timestamp":"2025-12-23T12:15:14.112Z"}
{"level":"error","message":"Unhandled error Invalid webhook signature","method":"POST","path":"/api/payments/webhook","status":401,"timestamp":"2025-12-23T12:16:06.024Z"}
{"level":"error","message":"Unhandled error Invalid webhook signature","method":"POST","path":"/api/payments/webhook","status":401,"timestamp":"2025-12-23T12:16:27.366Z"}
{"level":"error","message":"Unhandled error Invalid webhook signature","method":"POST","path":"/api/payments/webhook","status":401,"timestamp":"2025-12-23T12:16:49.654Z"}
{"level":"error","message":"Unhandled error Invalid webhook signature","method":"POST","path":"/api/payments/webhook","status":401,"timestamp":"2025-12-23T12:17:00.301Z"}
{"level":"error","message":"Unhandled error Invalid webhook signature","method":"POST","path":"/api/payments/webhook","status":401,"timestamp":"2025-12-23T12:17:06.971Z"}
{"level":"error","message":"Unhandled error Invalid webhook signature","method":"POST","path":"/api/payments/webhook","status":401,"timestamp":"2025-12-23T12:17:29.260Z"}
{"level":"error","message":"Unhandled error Invalid webhook signature","method":"POST","path":"/api/payments/webhook","status":401,"timestamp":"2025-12-23T12:17:40.482Z"}
{"level":"error","message":"Unhandled error Invalid webhook signature","method":"POST","path":"/api/payments/webhook","status":401,"timestamp":"2025-12-23T12:17:57.980Z"}
{"level":"error","message":"Unhandled error Invalid webhook signature","method":"POST","path":"/api/payments/webhook","status":401,"timestamp":"2025-12-23T12:18:06.460Z"}
{"level":"error","message":"Unhandled error Invalid webhook signature","method":"POST","path":"/api/payments/webhook","status":401,"timestamp":"2025-12-23T12:18:25.990Z"}
{"level":"error","message":"Unhandled error Invalid webhook signature","method":"POST","path":"/api/payments/webhook","status":401,"timestamp":"2025-12-23T12:18:35.697Z"}
{"level":"error","message":"Unhandled error Invalid webhook signature","method":"POST","path":"/api/payments/webhook","status":401,"timestamp":"2025-12-23T12:18:57.360Z"}
{"level":"error","message":"Unhandled error Only PENDING orders can be cancelled","method":"PATCH","path":"/api/orders/a726d951-e84f-46b0-bb60-c7a891962af3/cancel","status":409,"timestamp":"2025-12-23T12:23:42.302Z"}
{"level":"error","message":"Unhandled error Only PENDING orders can be cancelled","method":"PATCH","path":"/api/orders/a726d951-e84f-46b0-bb60-c7a891962af3/cancel","status":409,"timestamp":"2025-12-23T12:23:56.048Z"}
{"level":"error","message":"Unhandled error relation \"idempotency_keys\" does not exist","method":"POST","path":"/api/orders","stack":"Error: \n    at Query.run (E:\\Coding\\Projects\\NxtMarket\\NxtMarket\\node_modules\\sequelize\\src\\dialects\\postgres\\query.js:76:25)\n    at E:\\Coding\\Projects\\NxtMarket\\NxtMarket\\node_modules\\sequelize\\src\\sequelize.js:650:28\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at PostgresQueryInterface.select (E:\\Coding\\Projects\\NxtMarket\\NxtMarket\\node_modules\\sequelize\\src\\dialects\\abstract\\query-interface.js:1001:12)\n    at Function.findAll (E:\\Coding\\Projects\\NxtMarket\\NxtMarket\\node_modules\\sequelize\\src\\model.js:1824:21)\n    at Function.findOne (E:\\Coding\\Projects\\NxtMarket\\NxtMarket\\node_modules\\sequelize\\src\\model.js:1998:12)\n    at Function.findByPk (E:\\Coding\\Projects\\NxtMarket\\NxtMarket\\node_modules\\sequelize\\src\\model.js:1955:12)\n    at E:\\Coding\\Projects\\NxtMarket\\NxtMarket\\src\\modules\\orders\\order.controller.js:38:20","status":500,"timestamp":"2025-12-27T08:00:30.739Z"}
{"details":{"missing":["orderId"]},"level":"error","message":"Unhandled error Validation error","method":"POST","path":"/api/payments/intents","status":400,"timestamp":"2025-12-27T08:00:30.746Z"}
{"level":"error","message":"Unhandled error relation \"idempotency_keys\" does not exist","method":"POST","path":"/api/payments/webhook","stack":"Error: \n    at Query.run (E:\\Coding\\Projects\\NxtMarket\\NxtMarket\\node_modules\\sequelize\\src\\dialects\\postgres\\query.js:76:25)\n    at E:\\Coding\\Projects\\NxtMarket\\NxtMarket\\node_modules\\sequelize\\src\\sequelize.js:650:28\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at PostgresQueryInterface.select (E:\\Coding\\Projects\\NxtMarket\\NxtMarket\\node_modules\\sequelize\\src\\dialects\\abstract\\query-interface.js:1001:12)\n    at Function.findAll (E:\\Coding\\Projects\\NxtMarket\\NxtMarket\\node_modules\\sequelize\\src\\model.js:1824:21)\n    at Function.findOne (E:\\Coding\\Projects\\NxtMarket\\NxtMarket\\node_modules\\sequelize\\src\\model.js:1998:12)\n    at Function.findByPk (E:\\Coding\\Projects\\NxtMarket\\NxtMarket\\node_modules\\sequelize\\src\\model.js:1955:12)\n    at Object.handleWebhook (E:\\Coding\\Projects\\NxtMarket\\NxtMarket\\src\\modules\\payments\\payments.service.js:109:20)\n    at E:\\Coding\\Projects\\NxtMarket\\NxtMarket\\src\\modules\\payments\\payments.controller.js:15:18","status":500,"timestamp":"2025-12-27T08:00:30.755Z"}
{"level":"error","message":"Unhandled error relation \"order_items\" does not exist","method":"GET","path":"/api/vendor/orders?includeItems=true","stack":"Error: \n    at Query.run (E:\\Coding\\Projects\\NxtMarket\\NxtMarket\\node_modules\\sequelize\\src\\dialects\\postgres\\query.js:76:25)\n    at E:\\Coding\\Projects\\NxtMarket\\NxtMarket\\node_modules\\sequelize\\src\\sequelize.js:650:28\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at PostgresQueryInterface.rawSelect (E:\\Coding\\Projects\\NxtMarket\\NxtMarket\\node_modules\\sequelize\\src\\dialects\\abstract\\query-interface.js:1043:18)\n    at Function.aggregate (E:\\Coding\\Projects\\NxtMarket\\NxtMarket\\node_modules\\sequelize\\src\\model.js:2067:19)\n    at Function.count (E:\\Coding\\Projects\\NxtMarket\\NxtMarket\\node_modules\\sequelize\\src\\model.js:2124:20)\n    at async Promise.all (index 0)\n    at Function.findAndCountAll (E:\\Coding\\Projects\\NxtMarket\\NxtMarket\\node_modules\\sequelize\\src\\model.js:2183:27)\n    at Object.listVendorOrders (E:\\Coding\\Projects\\NxtMarket\\NxtMarket\\src\\modules\\vendor\\vendor.orders.service.js:11:40)\n    at E:\\Coding\\Projects\\NxtMarket\\NxtMarket\\src\\modules\\vendor\\vendor.orders.controller.js:27:18","status":500,"timestamp":"2025-12-27T08:00:30.769Z"}
{"level":"error","message":"Unhandled error relation \"idempotency_keys\" does not exist","method":"POST","path":"/api/payments/webhook","stack":"Error: \n    at Query.run (E:\\Coding\\Projects\\NxtMarket\\NxtMarket\\node_modules\\sequelize\\src\\dialects\\postgres\\query.js:76:25)\n    at E:\\Coding\\Projects\\NxtMarket\\NxtMarket\\node_modules\\sequelize\\src\\sequelize.js:650:28\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at PostgresQueryInterface.select (E:\\Coding\\Projects\\NxtMarket\\NxtMarket\\node_modules\\sequelize\\src\\dialects\\abstract\\query-interface.js:1001:12)\n    at Function.findAll (E:\\Coding\\Projects\\NxtMarket\\NxtMarket\\node_modules\\sequelize\\src\\model.js:1824:21)\n    at Function.findOne (E:\\Coding\\Projects\\NxtMarket\\NxtMarket\\node_modules\\sequelize\\src\\model.js:1998:12)\n    at Function.findByPk (E:\\Coding\\Projects\\NxtMarket\\NxtMarket\\node_modules\\sequelize\\src\\model.js:1955:12)\n    at Object.handleWebhook (E:\\Coding\\Projects\\NxtMarket\\NxtMarket\\src\\modules\\payments\\payments.service.js:109:20)\n    at E:\\Coding\\Projects\\NxtMarket\\NxtMarket\\src\\modules\\payments\\payments.controller.js:15:18","status":500,"timestamp":"2025-12-27T08:00:31.746Z"}
{"level":"error","message":"Unhandled error Invalid or expired token","method":"POST","path":"/api/products","status":401,"timestamp":"2025-12-29T09:04:56.366Z"}
{"level":"error","message":"Unhandled error Product not found","method":"GET","path":"/api/products/6943e19a2a1cd99fb0b1eef5","status":404,"timestamp":"2025-12-30T08:47:45.096Z"}
{"level":"error","message":"Unhandled error No files uploaded","method":"POST","path":"/api/uploads/products/69538ccd2c85e13a34b4e9e5","status":400,"timestamp":"2025-12-30T08:55:53.433Z"}
{"level":"error","message":"Unhandled error No files uploaded","method":"POST","path":"/api/uploads/products/69538ccd2c85e13a34b4e9e5","status":400,"timestamp":"2025-12-30T08:57:18.230Z"}
{"level":"error","message":"Unhandled error Invalid productId","method":"POST","path":"/api/cart/items","status":400,"timestamp":"2025-12-30T09:02:31.841Z"}
{"level":"error","message":"Unhandled error Invalid productId","method":"POST","path":"/api/cart/items","status":400,"timestamp":"2025-12-30T09:03:12.352Z"}
{"level":"error","message":"Unhandled error Unexpected token '$', ...\"oductId\": $PRODUCT10\"... is not valid JSON","method":"POST","path":"/api/cart/items","status":400,"timestamp":"2025-12-30T09:05:24.152Z"}
{"level":"error","message":"Unhandled error Unexpected token '\\', ...\"oductId\": \\\"$PRODUCT\"... is not valid JSON","method":"POST","path":"/api/cart/items","status":400,"timestamp":"2025-12-30T09:06:22.838Z"}
{"level":"error","message":"Unhandled error Expected property name or '}' in JSON at position 6 (line 2 column 5)","method":"POST","path":"/api/cart/items","status":400,"timestamp":"2025-12-30T09:07:48.102Z"}
{"level":"error","message":"Unhandled error Invalid productId","method":"POST","path":"/api/cart/items","status":400,"timestamp":"2025-12-30T09:16:17.650Z"}
{"details":{"from":"PENDING","to":"SHIPPED"},"level":"error","message":"Unhandled error Invalid status transition","method":"PATCH","path":"/api/orders/ab305fbd-bdb9-4dbf-bba3-2caef2de24d1/status","status":409,"timestamp":"2025-12-30T09:30:26.201Z"}
{"level":"error","message":"Unhandled error Missing or invalid Authorization header","method":"GET","path":"/api/vendor/orders?page=1&limit=20","status":401,"timestamp":"2025-12-30T09:34:33.518Z"}
{"level":"error","message":"Unhandled error Missing or invalid Authorization header","method":"GET","path":"/api/vendor/orders?page=1&limit=20","status":401,"timestamp":"2025-12-30T09:35:23.013Z"}
{"level":"error","message":"Unhandled error Missing or invalid Authorization header","method":"GET","path":"/api/cart","status":401,"timestamp":"2025-12-30T10:01:28.533Z"}
{"level":"error","message":"Unhandled error invalid input syntax for type uuid: \"$ORDER03ID\"","method":"POST","path":"/api/payments/intents","stack":"Error\n    at Query.run (E:\\Coding\\Projects\\NxtMarket\\NxtMarket__test\\node_modules\\sequelize\\lib\\dialects\\postgres\\query.js:50:25)\n    at E:\\Coding\\Projects\\NxtMarket\\NxtMarket__test\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async PostgresQueryInterface.select (E:\\Coding\\Projects\\NxtMarket\\NxtMarket__test\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async Order.findAll (E:\\Coding\\Projects\\NxtMarket\\NxtMarket__test\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async Order.findOne (E:\\Coding\\Projects\\NxtMarket\\NxtMarket__test\\node_modules\\sequelize\\lib\\model.js:1240:12)\n    at async Order.findByPk (E:\\Coding\\Projects\\NxtMarket\\NxtMarket__test\\node_modules\\sequelize\\lib\\model.js:1221:12)\n    at async Object.createIntent (E:\\Coding\\Projects\\NxtMarket\\NxtMarket__test\\src\\modules\\payments\\payments.service.js:24:17)\n    at async E:\\Coding\\Projects\\NxtMarket\\NxtMarket__test\\src\\modules\\payments\\payments.controller.js:5:18","status":500,"timestamp":"2025-12-30T10:19:42.190Z"}
{"level":"error","message":"Unhandled error Invalid webhook signature","method":"POST","path":"/api/payments/webhook","status":401,"timestamp":"2025-12-30T10:43:32.865Z"}
{"level":"error","message":"Unhandled error Invalid webhook signature","method":"POST","path":"/api/payments/webhook","status":401,"timestamp":"2025-12-30T10:45:27.385Z"}
{"level":"error","message":"Unhandled error Invalid webhook signature","method":"POST","path":"/api/payments/webhook","status":401,"timestamp":"2025-12-30T10:46:24.518Z"}
{"level":"error","message":"Unhandled error Invalid webhook signature","method":"POST","path":"/api/payments/webhook","status":401,"timestamp":"2025-12-30T10:46:31.858Z"}
{"level":"error","message":"Unhandled error Invalid webhook signature","method":"POST","path":"/api/payments/webhook","status":401,"timestamp":"2025-12-30T10:47:53.741Z"}
{"level":"error","message":"Unhandled error Invalid webhook signature","method":"POST","path":"/api/payments/webhook","status":401,"timestamp":"2025-12-30T10:55:34.172Z"}
{"level":"error","message":"Unhandled error Invalid webhook signature","method":"POST","path":"/api/payments/webhook","status":401,"timestamp":"2025-12-30T10:57:58.637Z"}
{"level":"error","message":"Unhandled error Invalid webhook signature","method":"POST","path":"/api/payments/webhook","status":401,"timestamp":"2025-12-30T11:06:37.108Z"}
{"level":"error","message":"Unhandled error Expected ':' after property name in JSON at position 120 (line 4 column 60)","method":"POST","path":"/api/payments/webhook","status":400,"timestamp":"2025-12-30T11:11:11.774Z"}
{"level":"error","message":"Unhandled error Order is not ready for shipping","method":"PATCH","path":"/api/vendor/orders/a4a089f3-0b55-4bfc-b795-9a626bf41352/items/659f5150-bb34-4ab0-a4a2-6dae739e0cba/ship","status":409,"timestamp":"2025-12-30T11:14:18.052Z"}
{"level":"error","message":"Unhandled error Order is not ready for shipping","method":"PATCH","path":"/api/vendor/orders/a4a089f3-0b55-4bfc-b795-9a626bf41352/items/659f5150-bb34-4ab0-a4a2-6dae739e0cba/ship","status":409,"timestamp":"2025-12-30T11:29:38.832Z"}
{"level":"error","message":"Unhandled error Missing or invalid Idempotency-Key header","method":"POST","path":"/api/orders","status":400,"timestamp":"2025-12-30T11:34:44.659Z"}
{"level":"error","message":"Unhandled error Order is not ready for shipping","method":"PATCH","path":"/api/vendor/orders/96060af4-af65-4727-af63-fffd3144e3c8/items/afe279ab-ca53-4cdb-b682-aed58c4e2709/ship","status":409,"timestamp":"2025-12-30T11:36:18.903Z"}
{"details":{"from":"PENDING","to":"SHIPPED"},"level":"error","message":"Unhandled error Invalid status transition","method":"PATCH","path":"/api/orders/1e34491c-e270-4abc-befb-9db4dc9120ee/status","status":409,"timestamp":"2025-12-30T12:45:22.499Z"}
{"level":"error","message":"Unhandled error Invalid webhook signature","method":"POST","path":"/api/payments/webhook","status":401,"timestamp":"2025-12-30T12:48:23.801Z"}
{"level":"error","message":"Unhandled error Invalid webhook signature","method":"POST","path":"/api/payments/webhook","status":401,"timestamp":"2025-12-30T12:49:53.495Z"}
{"level":"error","message":"Unhandled error Invalid webhook payload","method":"POST","path":"/api/payments/webhook","status":400,"timestamp":"2025-12-30T12:54:40.508Z"}
{"level":"error","message":"Unhandled error Invalid webhook signature","method":"POST","path":"/api/payments/webhook","status":401,"timestamp":"2025-12-30T12:55:02.737Z"}
